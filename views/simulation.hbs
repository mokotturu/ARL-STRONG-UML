<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="Monish Reddy Kotturu">
	<link rel="stylesheet" type="text/css" href="/css/simulation.css"/>
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&display=swap" rel="stylesheet">
	<link rel="icon" href="/img/favicon.png" type="image/png">
	<script src="https://kit.fontawesome.com/4240eddcaa.js" crossorigin="anonymous"></script>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<title>ARL STRONG UML | Simulation</title>
</head>

<body>
	<div class="loader"></div>
	<div class="progressbar"><div class="progress background"><p>0%</p></div></div>
	<div class="body-container">
		<div class="popup-modal-container" id="trust-confirm-modal">
			<div class="popup-modal" id="trust-confirm-modal-content">
				<h2 id="trustConfirmQuestion" style="color: white;font-size: 26px;"></h2>
				<h3 style="color: white;font-size: 18px;">You can see the results after making a decision. Do you want to integrate the map and score of the robot to the overall score?</h3>
				<div class="userInputButtons">
					<button onclick="confirmExploration()">Yes, I want to integrate it</button>
					<button onclick="undoExploration()">No, I want to discard it</button>
				</div>
			</div>
		</div>
		<div class="popup-modal-container" id="exploration-details-modal">
			<div class="popup-modal" id="exploration-details-modal-content">
				<div class="map-info">
					<div id="images-container">
						<div class="explored">
							<img src="#" id="minimap" alt="Entire Map">
						</div>
						<div class="explored">
							<img src="#" id="bot-image" alt="Agent explored area">
						</div>
						<div class="explored">
							<img src="#" id="human-image" alt="Human explored area">
						</div>
					</div>
					<div class="headings-container">
						<p>Entire map</p>
						<p class="agent-text">
							Agent explored area
							<i class="fas fa-info-circle tooltip">
								<span class="tooltiptext">If there is no area highlighted in green/orange, then the agent did not explore any new area.</span>
							</i>
						</p>
						<p>Human explored area (blue)</p>
					</div>
				</div>
				<table id="stats">
					<tr>
						<th class="tableTopLeft"></th>
						<th><div = id="teamScore" class="cellContent">TEAM SCORE: x</div></th>
						<th class="tableTopRight"></th>
					</tr>
					<tr>
						<th></th>
						<th>Agent explored</th>
						<th>Human explored</th>
					</tr>
					<tr>
						<th>Targets found</th>
						<td><div class="cellContent" id="agentTargetsFound">Blue: x, Yellow: x</div></td>
						<td><div class="cellContent" id="humanTargetsFound">Blue: x, Yellow: x</div></td>
					</tr>
					<tr>
						<th>Last interval</th>
						<td><div class="cellContent" id="agentCurInt">x</div></td>
						<td><div class="cellContent" id="humanCurInt">x</div></td>
					</tr>
					<tr>
						<th class="tableBottomLeft">Overall (including last interval)</th>
						<td id="agentOverall">x</td>
						<td class="tableBottomRight" id="humanOverall">x</td>
					</tr>
				</table>
				<div class="tableItems"></div>
				<div class="userInputButtons">
					<button onclick="hideExploredInfo()">Continue</button>
				</div>
			</div>
		</div>
		<div id="simulation">
			<div id="info">
				<div id="legend">
					<div class="icon"><span style="width: 40px; height: 20px; background-color: #9999ff; border-radius: 7px;"></span></div>
					<p>Human explored region</p>
					<div class="icon"><span style="width: 40px; height: 20px; background-color: #99ffb7; border-radius: 7px;"></span></div>
					<p>Agent 1 explored region in the current interval</p>
					<div class="icon"><span style="width: 40px; height: 20px; background-color: #ffbf7f; border-radius: 7px;"></span></div>
					<p>Agent 2 explored region in the current interval</p>
					<div class="icon"><span style="width: 40px; height: 20px; background-color: #ff9eae; border-radius: 7px;"></span></div>
					<p>Trusted agent explored region (both agents)</p>
					<div class="icon"><span style="width: 40px; height: 20px; background-color: #ffff7f; border-radius: 7px;"></span></div>
					<p>Region explored by both human and agent</p>
					<div class="icon"><img src="img/victim.png" style="width: 23px; height: 20px" /></div>
					<p>Red circle represents a victim</p>
					<div class="icon"><img src="img/hazard.png" style="width: 23px; height: 20px" /></div>
					<p>Yellow triangle represents a hazard</p>
				</div>
				<div id="gameDetails">
					<div id="timer">Time elapsed: 0s</div>
					<div id="teamScoreMain" style="font-size: 22px;">Team Score: 0</div>
				</div>
			</div>
			<div id="map-container">
				<canvas width="4000" height="4000" id="map" oncontextmenu="return false;"></canvas>
			</div>
		</div>
	</div>

	<!-- Load the CDN first -->
	<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

	<!-- If CDN fails to load, then serve up the local version -->
	<script>window.jQuery || document.write('<script src="js/jquery-3.5.1.min.js"><\/script>')</script>
	<script type="text/javascript" src="/js/jcanvas.min.js"></script>
	<script type="text/javascript" src="/js/new_simulation.js"></script>
</body>
</html>
